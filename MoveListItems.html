<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Move List Items</title>
<style>
    ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    li {
        padding: 10px;
        background-color: #f4f4f4;
        margin-bottom: 5px;
        cursor: pointer;
    }
    li:hover {
        background-color: #eaeaea;
    }
</style>
</head>
<body>

<h2>Move List Items</h2>

<div id="lists"></div>

<script>
window.onload = function() {
  const lists = document.getElementById("lists");
  let htmlContent = `<ul id="sortableList-1">`
  htmlContent += `<li draggable="true" id="item1">Item 1</li>`
  htmlContent += `<li draggable="true" id="item2">Item 2</li>`
  htmlContent += `<li draggable="true" id="item3">Item 3</li>`
  htmlContent += `<li draggable="true" id="item4">Item 4</li>`
  htmlContent += `<li draggable="true" id="item5">Item 5</li>`
  htmlContent += `</ul>`
  htmlContent += `<p></p>`
  htmlContent += `<hr>`
  htmlContent += `<p></p>`
  htmlContent += `<ul id="sortableList-2">`
  htmlContent += `<li draggable="true" id="item6">Item 1</li>`
  htmlContent += `<li draggable="true" id="item7">Item 2</li>`
  htmlContent += `<li draggable="true" id="item8">Item 3</li>`
  htmlContent += `<li draggable="true" id="item9">Item 4</li>`
  htmlContent += `<li draggable="true" id="item10">Item 5</li>`
  htmlContent += `</ul>`
  lists.innerHTML = htmlContent;

  const listItems = document.querySelectorAll('li[draggable="true"]');
  listItems.forEach(item => {
    item.addEventListener('dragstart', function(event) {
      drag(event, this.parentNode.id);
    });
  });
}

function drag(ev, listId) {
  ev.dataTransfer.setData("text", ev.target.id);
  ev.dataTransfer.setData("listId", listId);
}

document.addEventListener('DOMContentLoaded', function () {
  const listsContainer = document.getElementById('lists');

  listsContainer.addEventListener('dragover', function (e) {
    e.preventDefault();
  });

  listsContainer.addEventListener('drop', function (e) {
    e.preventDefault();
    const data = e.dataTransfer.getData("text");
    const listId = e.dataTransfer.getData("listId");
    const draggedItem = document.getElementById(data);
    const target = e.target.closest('li');

    if (target && target !== draggedItem && listId === target.parentNode.id) {
      const parent = target.parentNode;
      const nextSibling = target.nextSibling === draggedItem ? target : target.nextSibling;

      parent.insertBefore(draggedItem, nextSibling);
    }
  });
});
</script>

</body>
</html>
